(function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([1,"chunk-vendors"]),a()})({0:function(e,t){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("0fae");var r=a("9e2f"),n=a.n(r),o=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("5319"),a("4d63"),a("25f0"),a("2b0e")),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("operate-stock-manage")],1)},l=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"partner-company"},[a("el-container",[a("el-header",{staticClass:"header"},[a("el-form",{ref:"searchValidateForm",staticClass:"search-validate-form",attrs:{inline:!0,model:e.searchValidateForm,"label-width":"100px",rules:e.searchValidateFormRules}},[a("el-form-item",{attrs:{label:"",prop:"spotId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择景区名称",clearable:""},model:{value:e.searchValidateForm.spotId,callback:function(t){e.$set(e.searchValidateForm,"spotId",t)},expression:"searchValidateForm.spotId"}},e._l(e.searchScenicOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.SCENIC_SPOT_NAME,value:e.SCENIC_SPOT_ID}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"applyNumber"}},[a("el-input",{attrs:{placeholder:"请输入申请单号"},model:{value:e.searchValidateForm.applyNumber,callback:function(t){e.$set(e.searchValidateForm,"applyNumber",t)},expression:"searchValidateForm.applyNumber"}})],1),a("el-form-item",{attrs:{label:"",prop:"partsManagementName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择配件名称",clearable:""},model:{value:e.searchValidateForm.partsManagementName,callback:function(t){e.$set(e.searchValidateForm,"partsManagementName",t)},expression:"searchValidateForm.partsManagementName"}},e._l(e.searchGoodsNameOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"equipmentNo"}},[a("el-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.searchValidateForm.equipmentNo,callback:function(t){e.$set(e.searchValidateForm,"equipmentNo",t)},expression:"searchValidateForm.equipmentNo"}})],1),a("el-form-item",{attrs:{label:"",prop:"type"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择类型"},on:{change:e.onSearchChangeType},model:{value:e.searchValidateForm.type,callback:function(t){e.$set(e.searchValidateForm,"type",t)},expression:"searchValidateForm.type"}},e._l(e.searchTypeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.onSearch("searchValidateForm")}}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:e.onReset}},[e._v("重置")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.onAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"primary",loading:e.downloadLoading,icon:"el-icon-download"},on:{click:e.exportExcel}},[e._v("导出Excel")]),a("a",{attrs:{id:"exportA",href:e.downloadUrl,download:""}}),a("el-upload",{ref:"uploadImport",attrs:{action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",limit:1,"on-exceed":e.handleImportExceed,"on-change":e.handleImportChange,"show-file-list":!1,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","auto-upload":!1,flex:"","justify-end":""}},[a("el-button",{attrs:{type:"primary",loading:e.importLoading,icon:"el-icon-upload2"}},[e._v("导入EXCEL")])],1)],1),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-style":{background:"#f2f2f2",color:"#606266",height:"38px",padding:"0px"},"cell-style":{height:"38px",padding:"0"}}},[e._l(e.tableFields,(function(t,r){return a("el-table-column",{key:r,attrs:{prop:t,label:r,"min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("div",[e._v(" "+e._s(e.tableContentValue(r.row,t))+" ")])]}}],null,!0)})})),a("el-table-column",{attrs:{label:"操作","min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.editRow(t.$index,t.row)}}},[e._v(" 编辑 ")])]}}])})],2),a("el-table",{staticClass:"table",staticStyle:{width:"100%",display:"none"},attrs:{id:"outTable",data:e.exportTableData,border:""}},e._l(e.tableFields,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:t,"min-width":"130",align:"center"}})})),1)],1),a("el-footer",[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total, sizes, jumper",total:e.total,"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize},on:{"current-change":e.onCurrentChange,"size-change":e.onSizeChange}})],1)]),a("el-dialog",{staticClass:"dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"validateForm",staticClass:"demo-ruleForm",attrs:{model:e.validateForm,"label-width":"120px",rules:e.validateFormRules}},[a("el-form-item",{attrs:{label:"景区名称",prop:"spotId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"景区名称",clearable:""},model:{value:e.validateForm.spotId,callback:function(t){e.$set(e.validateForm,"spotId",t)},expression:"validateForm.spotId"}},e._l(e.scenicOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.SCENIC_SPOT_NAME,value:e.SCENIC_SPOT_ID}})})),1)],1),a("el-form-item",{attrs:{label:"申请单号",prop:"applyNumber"}},[a("el-input",{attrs:{type:"text",placeholder:"申请单号"},model:{value:e.validateForm.applyNumber,callback:function(t){e.$set(e.validateForm,"applyNumber",t)},expression:"validateForm.applyNumber"}})],1),a("el-form-item",{attrs:{label:"配件名称",prop:"partsManagementName"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择配件名称",clearable:""},on:{change:e.onChangeGoods},model:{value:e.validateForm.partsManagementName,callback:function(t){e.$set(e.validateForm,"partsManagementName",t)},expression:"validateForm.partsManagementName"}},e._l(e.searchGoodsNameOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.name,value:e.name}})})),1)],1),a("el-form-item",{attrs:{label:"配件编号",prop:"partsManagementId"}},[a("el-input",{attrs:{type:"text",placeholder:"配件编号",disabled:""},model:{value:e.validateForm.partsManagementId,callback:function(t){e.$set(e.validateForm,"partsManagementId",t)},expression:"validateForm.partsManagementId"}})],1),a("el-form-item",{attrs:{label:"规格型号",prop:"accessoryModel"}},[a("el-input",{attrs:{type:"text",placeholder:"规格型号",disabled:""},model:{value:e.validateForm.accessoryModel,callback:function(t){e.$set(e.validateForm,"accessoryModel",t)},expression:"validateForm.accessoryModel"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择类型"},model:{value:e.validateForm.type,callback:function(t){e.$set(e.validateForm,"type",t)},expression:"validateForm.type"}},e._l(e.typeOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),"2"==e.validateForm.type?a("el-form-item",{attrs:{label:"入库数量",prop:"number"}},[a("el-input",{attrs:{type:"text",placeholder:"入库数量"},model:{value:e.validateForm.number,callback:function(t){e.$set(e.validateForm,"number",t)},expression:"validateForm.number"}})],1):e._e(),"2"==e.validateForm.type?a("el-form-item",{attrs:{label:"入库原因",prop:"reason"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择入库原因",clearable:""},model:{value:e.validateForm.reason,callback:function(t){e.$set(e.validateForm,"reason",t)},expression:"validateForm.reason"}},e._l(e.searchInStockReasonOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"2"==e.validateForm.type?a("el-form-item",{attrs:{label:"入库人员",prop:"operatorUserId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择入库人员",clearable:""},model:{value:e.validateForm.operatorUserId,callback:function(t){e.$set(e.validateForm,"operatorUserId",t)},expression:"validateForm.operatorUserId"}},e._l(e.putInStorageOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.userName,value:e.userId}})})),1)],1):e._e(),"1"==e.validateForm.type?a("el-form-item",{attrs:{label:"出库数量",prop:"number"}},[a("el-input",{attrs:{type:"text",placeholder:"出库数量"},model:{value:e.validateForm.number,callback:function(t){e.$set(e.validateForm,"number",t)},expression:"validateForm.number"}})],1):e._e(),"1"==e.validateForm.type?a("el-form-item",{attrs:{label:"出库原因",prop:"reason"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择出库原因",clearable:""},model:{value:e.validateForm.reason,callback:function(t){e.$set(e.validateForm,"reason",t)},expression:"validateForm.reason"}},e._l(e.searchOutStockReasonOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1):e._e(),"1"==e.validateForm.type?a("el-form-item",{attrs:{label:"领用人员",prop:"operatorUserId"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择领用人员",clearable:""},model:{value:e.validateForm.operatorUserId,callback:function(t){e.$set(e.validateForm,"operatorUserId",t)},expression:"validateForm.operatorUserId"}},e._l(e.receiveUserOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.userName,value:e.userId}})})),1)],1):e._e(),a("el-form-item",{attrs:{label:"设备编号",prop:"equipmentNo"}},[a("el-input",{attrs:{placeholder:"请输入设备编号"},model:{value:e.validateForm.equipmentNo,callback:function(t){e.$set(e.validateForm,"equipmentNo",t)},expression:"validateForm.equipmentNo"}})],1),a("el-form-item",{attrs:{label:"库存余量",prop:"inventoryBalance"}},[a("el-input",{attrs:{placeholder:"请输入库存余量"},model:{value:e.validateForm.inventoryBalance,callback:function(t){e.$set(e.validateForm,"inventoryBalance",t)},expression:"validateForm.inventoryBalance"}})],1),a("el-form-item",{attrs:{label:"过质保",prop:"overWarranty"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择过质保",clearable:""},model:{value:e.validateForm.overWarranty,callback:function(t){e.$set(e.validateForm,"overWarranty",t)},expression:"validateForm.overWarranty"}},e._l(e.overWarrantyOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"库存阈值 ",prop:"threshold"}},[a("el-input",{attrs:{placeholder:"请输入库存阈值"},model:{value:e.validateForm.threshold,callback:function(t){e.$set(e.validateForm,"threshold",t)},expression:"validateForm.threshold"}})],1),a("el-form-item",{attrs:{label:"备注 ",prop:"remarks"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.validateForm.remarks,callback:function(t){e.$set(e.validateForm,"remarks",t)},expression:"validateForm.remarks"}})],1)],1),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("validateForm")}}},[e._v("提交")]),a("el-button",{on:{click:e.dialogClose}},[e._v("取消")])],1)],1)],1)],1)},c=[],u=a("2909"),d=a("1da1"),p=a("5530");a("96cf"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("159b"),a("99af"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("d81d"),a("b0c0"),a("21a6"),a("1146"),a("4d90"),a("1276");var m={name:"SettlementFlow",data:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,a,r){if(!a)return r(new Error(e+"不能为空"));r()}}return{showTable:!0,feeInput:"",taxInput:"",tableFields:{"景区名称":"spotName","申请单号":"applyNumber","配件编号":"partsManagementId","配件名称":"partsManagementName","规格型号":"accessoryModel","类型":"type","出库数量":"number","出库原因":"reason","领用人员":"operatorUserId","设备编号":"equipmentNo","库存余量":"inventoryBalance","更新时间":"updateTime","过质保":"overWarranty","库存阈值":"threshold","备注":"remarks"},tableData:[],tableLoading:!1,dialogTitle:"库存",searchCompanyOptions:[],searchScenicOptions:[],receivingOptions:[],searchInStockReasonOptions:[{value:"1",label:"备件申请"},{value:"2",label:"故障上报"},{value:"3",label:"盘点"},{value:"4",label:"工具"},{value:"5",label:"仪器"}],searchOutStockReasonOptions:[{value:"1",label:"故障维修"},{value:"2",label:"自修"},{value:"3",label:"盘点"}],searchTypeOptions:[{value:"1",label:"出库"},{value:"2",label:"入库"}],typeOptions:[{value:"1",label:"出库"},{value:"2",label:"入库"}],overWarrantyOptions:[{value:"0",label:"否"},{value:"1",label:"是"}],searchSpotNameOptions:[],searchGoodsNameOptions:[],searchReceivingNameOptions:[],goodsNameOptions:[],receiveUserOptions:[],putInStorageOptions:[],scenicOptions:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},exportTableData:[],downloadLoading:!1,importLoading:!1,currentPage:1,pageSize:10,selectDateState:"1",dateType:"daterange",valueFormat:"yyyy-MM-dd",searchValidateForm:{},validateForm:{},editValidateForm:{},previewValidateForm:{previewOrderNumber:""},searchPartnerCompanyName:"",searchScenicName:"",searchSelectDateState:"1",searchStartEndDate:"",searchPayState:"",companys:[],companyState:"",scenics:[],scenicState:"",downloadUrl:"",total:0,operateStatus:0,dialogVisible:!1,dialogState:"",currentRowOrderNumber:"",searchValidateFormRules:{},previewValidateFormRules:{previewOrderNumber:[{validator:e("单号"),required:!0,trigger:["blur","change"]}]},validateFormRules:{spotName:[{validator:e("景区名称"),trigger:["blur","change"]}],applyNumber:[{validator:e("申请单号"),trigger:["blur","change"]}],partsManagementId:[{validator:e("配件编号"),trigger:["blur","change"]}],partsManagementName:[{validator:e("配件名称"),trigger:["blur","change"]}],accessoryModel:[{validator:e("规格型号"),trigger:["blur","change"]}],type:[{validator:e("类型"),trigger:["blur","change"]}],number:[{validator:e("出库数量"),trigger:["blur","change"]}],reason:[{validator:e("出库原因"),trigger:["blur","change"]}],equipmentNo:[{validator:e("设备编号"),trigger:["blur","change"]}],inventoryBalance:[{validator:e("库存余量"),trigger:["blur","change"]}],operatorUserId:[{validator:e("领用人员"),trigger:["blur","change"]}],overWarranty:[{validator:e("过质保"),trigger:["blur","change"]}],threshold:[{validator:e("库存阈值"),trigger:["blur","change"]}]},editValidateFormRules:{}}},created:function(){this.getSearchValidateForm(),this.getValidateForm(),this.getAllGoodsList(),this.getAllSpotList(),this.getScenicList(),this.operatorUserDrop(),this.initTableData()},beforeMount:function(){},mounted:function(){},methods:{getSearchValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]=null;this.searchValidateForm=Object(p["a"])(Object(p["a"])({},e),{},{goodId:null,spotId:null,type:"1"})},getValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]=null;this.validateForm=Object(p["a"])(Object(p["a"])({},e),{},{goodId:null,spotId:null,type:"1"})},login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/loginSystem?username=lijiazhao&password=lijiazhao");case 2:a=t.sent,a.data;case 4:case"end":return t.stop()}}),t)})))()},operatorUserDrop:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.tableLoading=!0,t.next=3,e.$http.get("/system/operatePartsStock/operatorUserDrop",{params:{}});case 3:a=t.sent,r=a.data,"200"==r.state&&(e.putInStorageOptions=r.data,e.receiveUserOptions=r.data,e.tableLoading=!1);case 6:case"end":return t.stop()}}),t)})))()},initTableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.searchStartEndDate&&e.searchStartEndDate[0],r=e.searchStartEndDate&&e.searchStartEndDate[1],e.tableLoading=!0,t.next=5,e.$http.get("/system/operatePartsStock/list",{params:Object(p["a"])(Object(p["a"])({},e.searchValidateForm),{},{startDate:a,endDate:r,pageNum:e.currentPage,pageSize:e.pageSize})});case 5:n=t.sent,o=n.data,"200"==o.code&&(e.tableData=o.data,e.total=o.totals||0,e.tableLoading=!1);case 8:case"end":return t.stop()}}),t)})))()},addTableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/system/operatePartsStock/addOperatePartsStock",e.validateForm);case 2:a=t.sent,r=a.data,"200"==r.state?(e.$message({message:r.msg,type:"success",offset:100,center:!0,duration:1e3}),e.initTableData(),e.$refs.validateForm.resetFields()):e.$message({message:r.msg,type:"error",offset:100,center:!0,duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},editTableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/system/operatePartsStock/editOperatePartsStock",e.validateForm);case 2:a=t.sent,r=a.data,"200"==r.state?(e.$message({message:r.msg,type:"success",offset:100,center:!0,duration:1e3}),e.dialogVisible=!1,e.initTableData()):e.$message({message:r.msg,type:"error",offset:100,center:!0,duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},getAllGoodsList:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/goods_stock/getGoods");case 2:a=t.sent,r=a.data,e.searchGoodsNameOptions=r.data,e.goodsNameOptions=r.data;case 6:case"end":return t.stop()}}),t)})))()},getAllSpotList:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/goods_stock/getSpot");case 2:a=t.sent,r=a.data,e.searchSpotNameOptions=r.data;case 5:case"end":return t.stop()}}),t)})))()},getScenicList:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/robot_time_statistics/spotList");case 2:if(a=t.sent,r=a.data,"200"!=r.state){t.next=10;break}return e.searchScenicOptions=r.data,e.scenicOptions=r.data,t.abrupt("return",r);case 10:return t.abrupt("return");case 11:case"end":return t.stop()}}),t)})))()},updateStatus:function(e,t){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a.$http.post("/system/inventory_detail/updateStatus",a.$qs.stringify({id:e,status:t}));case 2:n=r.sent,n.data,a.initTableData(!0);case 5:case"end":return r.stop()}}),r)})))()},getByOrderNumber:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.previewValidateForm.previewOrderNumber||(e.previewValidateForm.previewOrderNumber=null),t.next=3,e.$http.get("/system/inventory_detail/getByOrderNumber",{params:{orderNumber:e.previewValidateForm.previewOrderNumber}});case 3:return a=t.sent,r=a.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},getExportTableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o,i,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.searchStartEndDate&&e.searchStartEndDate[0],r=e.searchStartEndDate&&e.searchStartEndDate[1],t.next=4,e.$http.get("/system/operatePartsStock/download",{params:Object(p["a"])(Object(p["a"])({},e.searchValidateForm),{},{startDate:a,endDate:r}),responseType:"arraybuffer"});case 4:n=t.sent,o=n.data,i=window.URL.createObjectURL(new Blob([o],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),l=document.createElement("a"),console.log(i),l.href=i,l.download="运营库存管理",l.click(),e.downloadLoading=!1;case 13:case"end":return t.stop()}}),t)})))()},importE:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r,n,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.importLoading=!0,r=new FormData,r.append("file",e),a.next=5,t.$http.post("/system/operatePartsStock/import",r);case 5:n=a.sent,o=n.data,t.importLoading=!1,"200"==o.state?(t.$message({message:"导入成功！",type:"success"}),t.initTableData()):t.$message({message:o.msg,type:"error"});case 9:case"end":return a.stop()}}),a)})))()},confirmRow:function(e,t){var a=this;this.$confirm("确认已入库?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.updateStatus(t.id,1),a.$message({type:"success",message:"确认成功!"})})).catch((function(){a.$message({type:"info",message:"已取消确认操作"})}))},revokeRow:function(e,t){var a=this;this.$confirm("您确定要撤销吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.updateStatus(t.id,2),a.$message({type:"success",message:"撤销成功!"})})).catch((function(){a.$message({type:"info",message:"已取消撤销操作"})}))},onChangeApplicant:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.applicanteOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.applicantName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeFactory:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.factoryOptions.forEach((function(t){t.spotId==e&&(r=t.spotName)})),t.validateForm.factoryName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeConsignor:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.consignorOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.consignorName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeReceiving:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",n="",t.receivingOptions.forEach((function(t){t.spotId==e&&(r=t.spotName,n=t.address)})),t.validateForm.receivingName=r,t.validateForm.receiningAddress=n;case 5:case"end":return a.stop()}}),a)})))()},onChangeConsignee:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.consigneeOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.consigneeName=r;case 3:case"end":return a.stop()}}),a)})))()},onDateChange:function(){console.log(this.selectDateState),"1"==this.selectDateState?(this.dateType="monthrange",this.valueFormat="yyyy-MM"):"2"==this.selectDateState?(this.dateType="daterange",this.valueFormat="yyyy-MM-dd"):"3"==this.selectDateState&&(this.dateType="yearrange",this.valueFormat="yyyy")},onReset:function(){this.getSearchValidateForm(),this.selectDateState="1",this.dateType="monthrange",this.initTableData()},onSearch:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.showTable=!0,t.initTableData(),"1"==t.searchValidateForm.type?t.tableFields={"景区名称":"spotName","申请单号":"applyNumber","配件编号":"partsManagementId","配件名称":"partsManagementName","规格型号":"accessoryModel","类型":"type","出库数量":"number","出库原因":"reason","领用人员":"operatorUserId","设备编号":"equipmentNo","库存余量":"inventoryBalance","更新时间":"updateTime","过质保":"overWarranty","库存阈值":"threshold","备注":"remarks"}:"2"==t.searchValidateForm.type&&(t.tableFields={"景区名称":"spotName","申请单号":"applyNumber","配件编号":"partsManagementId","配件名称":"partsManagementName","规格型号":"accessoryModel","类型":"type","入库数量":"number","入库原因":"reason","入库人员":"operatorUserId","设备编号":"equipmentNo","库存余量":"inventoryBalance","更新时间":"updateTime","过质保":"overWarranty","库存阈值":"threshold","备注":"remarks"})}))},exportExcel:function(){var e=this;this.$confirm("确认导出Excel表格?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.downloadLoading=!0,t.next=3,e.getExportTableData();case 3:e.downloadLoading=!1,e.$message({type:"success",message:"已成功导出Excel表格！"});case 5:case"end":return t.stop()}}),t)})))).catch((function(){e.$message({type:"info",message:"已取消导出Excel表格"})}))},onAdd:function(){this.dialogVisible=!0,this.dialogState="add"},editRow:function(e,t){var a=this;console.log(e,t),this.dialogVisible=!0,this.dialogState="edit",this.$nextTick((function(){a.validateForm=t}))},detailRow:function(e,t){this.detailDialogVisible=!0,this.dialogState="detail",this.detailTableDate(t.id)},dialogClose:function(){this.dialogVisible=!1,this.getValidateForm()},editDialogClose:function(){this.editDialogVisible=!1,this.$refs.editValidateForm.resetFields(),this.editValidateForm={}},detailDialogClose:function(){this.detailDialogVisible=!1},handleClose:function(e){this.getValidateForm(),e()},editHandleClose:function(e){e(),this.$refs.editValidateForm.resetFields(),this.editValidateForm={}},detailHandleClose:function(e){e()},submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"add"==t.dialogState?(console.log("新增运营库存"),t.addTableData(),t.dialogVisible=!1):"edit"==t.dialogState&&(console.log("编辑运营库存"),t.editTableData(),t.editDialogVisible=!1),t.$refs.validateForm.resetFields()}))},onSave:function(){this.dialogVisible=!1,this.initTableData()},onDownloadOrder:function(){},onCurrentChange:function(e){this.currentPage=e,this.initTableData(!0)},onSizeChange:function(e){this.pageSize=e,this.initTableData(!0)},handleChange:function(e,t){console.log(e),this.fileTemp=e.raw,this.fileTemp?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==this.fileTemp.type||"application/vnd.ms-excel"==this.fileTemp.type?this.importfxx(this.fileTemp):this.$message({type:"warning",message:"附件格式错误，请删除后重新上传！"}):this.$message({type:"warning",message:"请上传附件！"})},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleRemove:function(e,t){this.fileTemp=null},importfxx:function(e){this.file=e;var t=!1,r=this.file,n=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var t,r,n="",o=!1,i=new FileReader;i.onload=function(e){for(var l=new Uint8Array(i.result),s=l.byteLength,c=0;c<s;c++)n+=String.fromCharCode(l[c]);var d=a("1146");t=o?d.read(btoa(fixdata(n)),{type:"base64"}):d.read(n,{type:"binary"}),r=d.utils.sheet_to_json(t.Sheets[t.SheetNames[0]]),console.log(r),this.da=Object(u["a"])(r);var p=[];return this.da.map((function(e){var t={robotCount:e["机器人数量"],type:e["发货进度"],applicantName:e["申请人"],factoryName:e["发货工厂"],consignorName:e["发货人"],receivingName:e["收货景区"],consigneeName:e["收货人"],consigneePhone:e["收货人电话"],receiningAddress:e["收货地址"],consignmentDate:e["发货时间"]};p.push(t)})),this.tableData=p,p},i.readAsArrayBuffer(e)},t?n.readAsArrayBuffer(r):n.readAsBinaryString(r)},onChangeGoods:function(e){var t=this;this.goodsNameOptions.forEach((function(a){a.name==e&&(t.validateForm.partsManagementId=a.id,t.validateForm.accessoryModel=a.model)}))},handleImportExceed:function(e){this.$refs.uploadImport.clearFiles(),this.$refs.uploadImport.submit(e)},handleImportChange:function(e,t){console.log(e),this.importE(e.raw)},onSearchChangeType:function(e){}},components:{},computed:{tableContentValue:function(){return function(e,t){var a="";return"type"==t?1==e[t]?a="待发货":2==e[t]?a="已发货":3==e[t]?a="已收货":4==e[t]&&(a="已关闭"):"overWarranty"==t?"0"==e[t]?a="否":"1"==e[t]&&(a="是"):a=e[t],a}}}},h=m,f=(a("fb06"),a("2877")),g=Object(f["a"])(h,s,c,!1,null,"f25024d6",null),v=g.exports,b={name:"App",components:{OperateStockManage:v}},y=b,F=(a("5c0b"),Object(f["a"])(y,i,l,!1,null,null,null)),w=F.exports,x=a("2f62");o["default"].use(x["a"]);var S=new x["a"].Store({state:{},mutations:{},actions:{},modules:{}}),k=a("bc3a"),O=a.n(k),N=a("4328"),$=a.n(N),D=a("313e");o["default"].use(n.a),O.a.defaults.withCredentials=!0,o["default"].prototype.$http=O.a,o["default"].prototype.$qs=$.a,o["default"].config.productionTip=!1,o["default"].prototype.$echarts=D,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t){var r=t[a];new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r:("00"+r).substr((""+r).length)))}return e},new o["default"]({store:S,render:function(e){return e(w)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){},e3f6:function(e,t,a){},fb06:function(e,t,a){"use strict";a("e3f6")}});
//# sourceMappingURL=app.7a49d9bf.js.map