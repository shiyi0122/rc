(function(e){function t(t){for(var r,i,l=t[0],s=t[1],c=t[2],d=0,p=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&p.push(n[i][0]),n[i]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,c||[]),a()}function a(){for(var e,t=0;t<o.length;t++){for(var a=o[t],r=!0,l=1;l<a.length;l++){var s=a[l];0!==n[s]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},o=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=s;o.push([1,"chunk-vendors"]),a()})({0:function(e,t){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("robot-maintain")],1)},o=[],i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"partner-company"},[a("el-container",[a("el-header",{staticClass:"header"},[a("el-form",{ref:"searchValidateForm",staticClass:"search-validate-form",attrs:{inline:!0,model:e.searchValidateForm,"label-width":"100px",rules:e.searchValidateFormRules}},[a("el-form-item",{attrs:{label:"",prop:"robotCode"}},[a("el-input",{staticClass:"input-name",attrs:{placeholder:"机器人编号",type:"number"},model:{value:e.searchValidateForm.robotCode,callback:function(t){e.$set(e.searchValidateForm,"robotCode",t)},expression:"searchValidateForm.robotCode"}})],1),a("el-form-item",{attrs:{label:"",prop:"spotId"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择景区",clearable:""},on:{change:e.onChangeSearchSpot},model:{value:e.searchValidateForm.spotId,callback:function(t){e.$set(e.searchValidateForm,"spotId",t)},expression:"searchValidateForm.spotId"}},e._l(e.searchScenicOptions,(function(e,t){return a("el-option",{key:t,attrs:{label:e.SCENIC_SPOT_NAME,value:e.SCENIC_SPOT_ID}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"faultNumber"}},[a("el-input",{staticClass:"input-name",attrs:{placeholder:"申请单号"},model:{value:e.searchValidateForm.faultNumber,callback:function(t){e.$set(e.searchValidateForm,"faultNumber",t)},expression:"searchValidateForm.faultNumber"}})],1),a("el-form-item",{staticStyle:{width:"350px"},attrs:{label:"",prop:"startEndDate"}},[a("el-date-picker",{attrs:{"unlink-panels":"",type:e.dateType,"range-separator":"至","start-placeholder":"申请开始日期","end-placeholder":"申请结束日期","value-format":"yyyy-MM-dd"},model:{value:e.startEndDate,callback:function(t){e.startEndDate=t},expression:"startEndDate"}})],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.onSearch("searchValidateForm")}}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:e.onReset}},[e._v("重置")]),a("el-button",{attrs:{type:"primary",loading:e.downloadLoading,icon:"el-icon-download"},on:{click:e.exportExcel}},[e._v("导出Excel")])],1),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-style":{background:"#f2f2f2",color:"#606266",height:"38px",padding:"0px"},"cell-style":{height:"38px",padding:"0"}}},e._l(e.tableFields,(function(t,r){return a("el-table-column",{key:r,attrs:{prop:t,label:r,"min-width":"130",align:"center"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("div",[e._v(" "+e._s(e.tableContentValue(r.row,t))+" ")])]}}],null,!0)})})),1),a("el-table",{staticClass:"table",staticStyle:{width:"100%",display:"none"},attrs:{id:"outTable",data:e.exportTableData,border:""}},e._l(e.tableFields,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:t,"min-width":"130",align:"center"}})})),1)],1),a("el-footer",[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total, sizes, jumper",total:e.total,"current-page":e.currentPage,"page-sizes":[10,20,30,40,50,60,70,80,90],"page-size":e.pageSize},on:{"current-change":e.onCurrentChange,"size-change":e.onSizeChange}})],1)]),a("el-dialog",{staticClass:"dialog",attrs:{title:e.dialogTitle,visible:e.dialogVisible,"before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"validateForm",staticClass:"demo-ruleForm",attrs:{model:e.validateForm,"label-width":"100px",rules:e.validateFormRules}},[a("el-form-item",{attrs:{label:"合作公司名称",prop:"companyName"}},[a("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入合作公司名称"},model:{value:e.validateForm.companyName,callback:function(t){e.$set(e.validateForm,"companyName",t)},expression:"validateForm.companyName"}})],1),a("el-form-item",{attrs:{label:"收款账户",prop:"collectionAccount"}},[a("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入收款账户"},model:{value:e.validateForm.collectionAccount,callback:function(t){e.$set(e.validateForm,"collectionAccount",t)},expression:"validateForm.collectionAccount"}})],1),a("el-form-item",{attrs:{label:"收款账号",prop:"collectionAccountNumber"}},[a("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入收款账号"},model:{value:e.validateForm.collectionAccountNumber,callback:function(t){e.$set(e.validateForm,"collectionAccountNumber",t)},expression:"validateForm.collectionAccountNumber"}})],1),a("el-form-item",{attrs:{label:"开户行",prop:"bank"}},[a("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入开户行"},model:{value:e.validateForm.bank,callback:function(t){e.$set(e.validateForm,"bank",t)},expression:"validateForm.bank"}})],1),a("el-form-item",{attrs:{label:"备注",prop:"notes"}},[a("el-input",{attrs:{type:"text",autocomplete:"off",placeholder:"请输入备注"},model:{value:e.validateForm.notes,callback:function(t){e.$set(e.validateForm,"notes",t)},expression:"validateForm.notes"}})],1)],1),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("validateForm")}}},[e._v("提交")]),a("el-button",{on:{click:e.dialogClose}},[e._v("取消")])],1)],1)],1)],1)},l=[],s=a("2909"),c=a("1da1"),u=a("5530"),d=(a("96cf"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("159b"),a("99af"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("d81d"),a("fb6a"),a("a15b"),a("21a6"),a("1146"),{name:"PartnerCompany",data:function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,a,r){if(!a)return r(new Error(e+"不能为空"));isNaN(Number(a))?r(new Error(e+"必须为数字值")):r()}}function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,a,r){if(!a)return r(new Error(e+"不能为空"));r()}}return{searchCompanyName:"",tableFields:{"景区名称":"spotName","机器数量":"robotNumber","申请单号":"applyNumber","申请报告":"APPLICATION_REPORT","申请时间":"applyTime","故障描述":"applyReasion","上报人员":"applyUserName","上报电话":"applyUserPhone","评估人":"assessorId","评估报告":"assessmentReport","审批人":"approverId","审批结果":"EXAMINE_RESULT","审批意见":"examineAggestion","处理结果确认人":"finalId","处理结果确认":"processingResults","入库单号":"inventoryNumber","变卖款额/元":"saleAmount","机器人编号":"robotCode","备注":"note","详情":"details"},tableData:[],exportTableData:[],downloadLoading:!1,loadingTable:!1,currentPage:1,pageSize:10,searchScenicOptions:[],searchUserOptions:[{peopleId:1,peopleName:"测试维修人员1"},{peopleId:2,peopleName:"测试维修人员2"},{peopleId:3,peopleName:"测试维修人员3"}],dialogVisible:!1,dialogState:"",dateType:"daterange",startEndDate:[],searchValidateForm:{},validateForm:{},total:0,dialogTitle:"",limitUpload:3,file:null,fileTemp:null,fileListUpload:[],updateUpload:!0,validateFormRules:{companyName:[{validator:t("合作公司名称"),required:!0,trigger:["blur","change"]}],collectionAccount:[{validator:t("收款账户"),required:!0,trigger:["blur","change"]}],collectionAccountNumber:[{validator:e("收款账号"),required:!0,trigger:["blur","change"]}],bank:[{validator:t("开户行"),required:!0,trigger:["blur","change"]}]},searchValidateFormRules:{}}},created:function(){this.getSearchValidateForm(),this.getValidateForm(),this.searchValidateForm.robotCode=new URL(location.href).searchParams.get("robotCode"),this.initTableData(),this.getScenicList(),this.getSysAppUsers()},methods:{getSearchValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]=null;this.searchValidateForm=Object(u["a"])(Object(u["a"])({},e),{},{robotCode:null,spotId:null,faultName:null,faultNumber:null,userId:null})},getValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]=null;this.validateForm=e},login:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/loginSystem?username=lijiazhao&password=lijiazhao");case 2:a=t.sent,a.data;case 4:case"end":return t.stop()}}),t)})))()},initTableData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.searchValidateForm),e.loadingTable=!0,t.next=4,e.$http.get("/system/substitute_apply_system/list",{params:Object(u["a"])(Object(u["a"])({},e.searchValidateForm),{},{beginDate:e.startEndDate&&e.startEndDate[0],endDate:e.startEndDate&&e.startEndDate[1],pageNum:e.currentPage,pageSize:e.pageSize})});case 4:if(a=t.sent,r=a.data,"200"!=r.state){t.next=12;break}e.tableData=r.data.list,e.total=r.data.total,e.loadingTable=!1,t.next=14;break;case 12:return e.$message({message:r.msg,type:"error",offset:100,center:!0,duration:3e3}),t.abrupt("return");case 14:case"end":return t.stop()}}),t)})))()},getScenicList:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/robot_time_statistics/spotList");case 2:if(a=t.sent,r=a.data,"200"!=r.state){t.next=9;break}return e.searchScenicOptions=r.data,t.abrupt("return",r);case 9:return t.abrupt("return");case 10:case"end":return t.stop()}}),t)})))()},getExportTableData:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/substitute_apply_system/uploadExcelSubstituteApplySystem",{params:Object(u["a"])(Object(u["a"])({},e.searchValidateForm),{},{beginDate:e.startEndDate&&e.startEndDate[0],endDate:e.startEndDate&&e.startEndDate[1]}),responseType:"arraybuffer"});case 2:a=t.sent,r=a.data,n=window.URL.createObjectURL(new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),o=document.createElement("a"),o.href=n,o.download="机器人大维修及报废",o.click(),e.downloadLoading=!1;case 10:case"end":return t.stop()}}),t)})))()},getSysAppUsers:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/appUsers/getSysAppUsers");case 2:a=t.sent,r=a.data,e.searchUserOptions=r.data;case 5:case"end":return t.stop()}}),t)})))()},onSearch:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.initTableData()}))},onReset:function(){this.getSearchValidateForm(),this.getValidateForm(),this.startEndDate=[],this.dateType="daterange",this.initTableData()},exportExcel:function(){var e=this;this.$confirm("确认导出Excel表格?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.downloadLoading=!0,t.next=3,e.getExportTableData();case 3:e.$message({type:"success",message:"已成功导出Excel表格！",offset:100,center:!0,duration:1e3});case 4:case"end":return t.stop()}}),t)})))).catch((function(){e.downloadLoading=!1,e.$message({type:"info",message:"已取消导出Excel表格",offset:100,center:!0,duration:1e3})}))},onAdd:function(){this.dialogVisible=!0,this.dialogState="add",this.dialogTitle="新增合作公司信息"},editRow:function(e,t){this.dialogVisible=!0;var a=Object.assign({},t);this.validateForm=a,this.dialogState="edit",this.dialogTitle="编辑合作公司信息"},dialogClose:function(){this.dialogVisible=!1,this.$refs.validateForm.resetFields(),this.getValidateForm()},handleClose:function(e){e(),this.$refs.validateForm.resetFields(),this.getValidateForm()},onChangeSearchSpot:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.searchScenicOptions.forEach((function(a){a.SCENIC_SPOT_ID==e&&(t.searchValidateForm.spotName=a.SCENIC_SPOT_NAME)}));case 1:case"end":return a.stop()}}),a)})))()},onChangeSearchUser:function(e){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.searchUserOptions.forEach((function(a){a.userId==e&&(t.searchValidateForm.userName=a.userName)}));case 1:case"end":return a.stop()}}),a)})))()},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=7;break}console.log(t.validateForm),"add"==t.dialogState?(console.log("新增公司信息"),t.addTableData()):"edit"==t.dialogState&&(console.log("编辑公司信息"),t.editTableData()),t.dialogVisible=!1,t.$refs.validateForm.resetFields(),e.next=9;break;case 7:return console.log("error submit!!"),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onCurrentChange:function(e){this.currentPage=e,this.initTableData()},onSizeChange:function(e){this.pageSize=e,this.initTableData()},reloadUpload:function(){var e=this;this.updateUpload=!1,this.$nextTick((function(){e.updateUpload=!0}))},handleChange:function(e,t){this.fileListUpload[0]=e,this.fileTemp=e.raw,this.reloadUpload(),this.fileTemp?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==this.fileTemp.type||"application/vnd.ms-excel"==this.fileTemp.type?this.importfxx(this.fileTemp):this.$message({type:"warning",message:"附件格式错误，请删除后重新上传！"}):this.$message({type:"warning",message:"请上传附件！"})},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleRemove:function(e,t){this.fileTemp=null,this.fileListUpload=[]},importfxx:function(e){this.file=e;var t=!1,r=this.file,n=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var t,r,n="",o=!1,i=new FileReader;i.onload=function(e){for(var l=new Uint8Array(i.result),c=l.byteLength,u=0;u<c;u++)n+=String.fromCharCode(l[u]);var d=a("1146");t=o?d.read(btoa(fixdata(n)),{type:"base64"}):d.read(n,{type:"binary"}),r=d.utils.sheet_to_json(t.Sheets[t.SheetNames[0]]),console.log(r),this.da=Object(s["a"])(r);var p=[];return this.da.map((function(e){var t={robotCount:e["机器人数量"],type:e["发货进度"],applicantName:e["申请人"],factoryName:e["发货工厂"],consignorName:e["发货人"],receivingName:e["收货景区"],consigneeName:e["收货人"],consigneePhone:e["收货人电话"],receiningAddress:e["收货地址"],consignmentDate:e["发货时间"]};p.push(t)})),p},i.readAsArrayBuffer(e)},t?n.readAsArrayBuffer(r):n.readAsBinaryString(r)}},computed:{tableContentValue:function(){return function(e,t){var a="";if("collectionAccountNumber"==t){for(var r=String(e[t]),n=4,o=[],i=0;i<r.length;i+=n)o.push(r.slice(i,i+n));a=o.join(" ")}else"processingResults"==t?0==e[t]?a="未处理":1==e[t]?a="已修好":2==e[t]&&(a="已回收"):a=e[t]||"无";return a}}},components:{}}),p=d,f=(a("8356"),a("2877")),m=Object(f["a"])(p,i,l,!1,null,"43066483",null),h=m.exports,b={name:"App",components:{RobotMaintain:h}},g=b,v=(a("5c0b"),Object(f["a"])(g,n,o,!1,null,null,null)),y=v.exports,x=a("2f62");r["default"].use(x["a"]);var w=new x["a"].Store({state:{},mutations:{},actions:{},modules:{}}),F=(a("9e1f"),a("450d"),a("6ed5")),S=a.n(F),C=(a("0fb7"),a("f529")),k=a.n(C),N=(a("826b"),a("c263")),T=a.n(N),O=(a("f225"),a("89a9")),E=a.n(O),R=(a("be4f"),a("896a")),V=a.n(R),_=(a("eca7"),a("3787")),D=a.n(_),j=(a("425f"),a("4105")),A=a.n(j),$=(a("a7cc"),a("df33")),U=a.n($),I=(a("672e"),a("101e")),P=a.n(I),L=(a("5466"),a("ecdf")),z=a.n(L),M=(a("38a0"),a("ad41")),B=a.n(M),q=(a("10cb"),a("f3ad")),J=a.n(q),X=(a("bdc7"),a("aa2f")),G=a.n(X),H=(a("de31"),a("c69e")),K=a.n(H),Q=(a("a673"),a("7b31")),W=a.n(Q),Y=(a("adec"),a("3d2d")),Z=a.n(Y),ee=(a("6611"),a("e772")),te=a.n(ee),ae=(a("1f1a"),a("4e4b")),re=a.n(ae),ne=(a("1951"),a("eedf")),oe=a.n(ne);r["default"].use(oe.a),r["default"].use(re.a),r["default"].use(te.a),r["default"].use(Z.a),r["default"].use(W.a),r["default"].use(K.a),r["default"].use(G.a),r["default"].use(J.a),r["default"].use(B.a),r["default"].use(z.a),r["default"].use(P.a),r["default"].use(U.a),r["default"].use(A.a),r["default"].use(D.a),r["default"].use(V.a),r["default"].use(E.a),r["default"].use(T.a),r["default"].prototype.$message=k.a,r["default"].prototype.$confirm=S.a.confirm;var ie=a("bc3a"),le=a.n(ie),se=a("323e"),ce=a.n(se);a("a5d8");le.a.defaults.withCredentials=!0,r["default"].prototype.$http=le.a,r["default"].config.productionTip=!1,le.a.interceptors.request.use((function(e){return ce.a.start(),e})),le.a.interceptors.response.use((function(e){return ce.a.done(),e})),new r["default"]({store:w,render:function(e){return e(y)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},8356:function(e,t,a){"use strict";a("95ac")},"95ac":function(e,t,a){},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.5e5c75e4.js.map