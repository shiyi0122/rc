(function(e){function t(t){for(var r,s,o=t[0],c=t[1],l=t[2],u=0,p=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=r,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(a,r,function(t){return e[t]}.bind(null,r));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},"2a38":function(e,t,a){"use strict";a("656b")},3:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("0fae");var r=a("9e2f"),n=a.n(r),i=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("5319"),a("4d63"),a("25f0"),a("2b0e")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("broadcast-hunt")],1)},o=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"partner-company"},[a("el-container",[a("el-header",{staticClass:"header"},[a("el-switch",{attrs:{size:"large","inactive-text":"寻宝开关"},on:{change:e.changeCwitch},model:{value:e.switchsTATR,callback:function(t){e.switchsTATR=t},expression:"switchsTATR"}}),a("el-form",{ref:"searchValidateForm",staticClass:"search-validate-form",attrs:{inline:!0,model:e.searchValidateForm,"label-width":"100px",rules:e.searchValidateFormRules}},[a("el-form-item",{attrs:{label:"",prop:"scenicSpotName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择景区",clearable:""},model:{value:e.searchValidateForm.scenicSpotId,callback:function(t){e.$set(e.searchValidateForm,"scenicSpotId",t)},expression:"searchValidateForm.scenicSpotId"}},e._l(e.spotList,(function(e,t){return a("el-option",{key:e.value,attrs:{label:e.scenicSpotName,value:e.scenicSpotId}})})),1)],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.onSearch("searchValidateForm")}}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:e.onReset}},[e._v("重置")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.onAdd}},[e._v("新增")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editSpot}},[e._v("批量修改寻宝开关")]),a("el-button",{attrs:{type:"primary",loading:e.downloadLoading,icon:"el-icon-download"},on:{click:e.exportExcel}},[e._v("导出Excel")]),a("a",{attrs:{id:"exportA",href:e.downloadUrl,download:""}}),a("el-upload",{ref:"uploadImport",attrs:{action:"https://run.mocky.io/v3/9d059bf9-4660-45f2-925d-ce80ad6c4d15",limit:1,"on-exceed":e.handleImportExceed,"on-change":e.handleImportChange,"show-file-list":!1,accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","auto-upload":!1,"mr-3":"",flex:"","justify-end":""}},[a("el-button",{attrs:{type:"primary",loading:e.importLoading,icon:"el-icon-upload2"}},[e._v("导入EXCEL")])],1)],1),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-style":{background:"#f2f2f2",color:"#606266",height:"38px",padding:"0px"},"cell-style":{height:"38px",padding:"0"}}},[e._l(e.tableFields,(function(t,r){return a("el-table-column",{key:r,attrs:{prop:t,label:r,"min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("div",[e._v(" "+e._s(e.tableContentValue(r.row,t))+" ")])]}}],null,!0)})})),a("el-table-column",{attrs:{label:"操作","min-width":"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},nativeOn:{click:function(a){return a.preventDefault(),e.handlePrize(t.$index,t.row)}}},[e._v("查看详情")]),a("el-button",{attrs:{type:"primary",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.editRow(t.$index,t.row)}}},[e._v(" 编辑 ")]),a("el-button",{attrs:{size:"small",type:"danger"},nativeOn:{click:function(a){return a.preventDefault(),e.deleteRow(t.$index,t.row)}}},[e._v("删除")])]}}])})],2),a("el-table",{staticClass:"table",staticStyle:{width:"100%",display:"none"},attrs:{id:"outTable",data:e.exportTableData,border:""}},e._l(e.tableFields,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:t,"min-width":"130",align:"center"}})})),1)],1),a("el-footer",[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total, sizes, jumper",total:e.total,"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize},on:{"current-change":e.onCurrentChange,"size-change":e.onSizeChange}})],1)]),a("el-dialog",{staticClass:"dialog",attrs:{title:e.drawerTitle+"景区类型",visible:e.drawer,"before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.drawer=t}}},[a("el-form",{ref:"ruleFormRef",staticClass:"demo-ruleForm",attrs:{model:e.validateForm,"label-width":"100px",size:e.formSize,"status-icon":""}},[a("el-form-item",{attrs:{label:"景区名称",prop:"scenicSpotName"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择景区",filterable:"",clearable:""},model:{value:e.validateForm.scenicSpotId,callback:function(t){e.$set(e.validateForm,"scenicSpotId",t)},expression:"validateForm.scenicSpotId"}},e._l(e.spotList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.scenicSpotName,value:e.scenicSpotId}})})),1)],1),a("el-form-item",{attrs:{label:"寻宝名称",prop:"broadcastName"}},[a("el-input",{attrs:{placeholder:"寻宝名称"},model:{value:e.validateForm.broadcastName,callback:function(t){e.$set(e.validateForm,"broadcastName",t)},expression:"validateForm.broadcastName"}})],1),a("el-form-item",{attrs:{label:"百度坐标",prop:"broadcastGpsBaiDu"}},[a("el-input",{attrs:{placeholder:"百度坐标"},model:{value:e.validateForm.broadcastGpsBaiDu,callback:function(t){e.$set(e.validateForm,"broadcastGpsBaiDu",t)},expression:"validateForm.broadcastGpsBaiDu"}})],1),a("el-form-item",{attrs:{label:"WGS84坐标",prop:"broadcastGps"}},[a("el-input",{attrs:{placeholder:"WGS84坐标"},model:{value:e.validateForm.broadcastGps,callback:function(t){e.$set(e.validateForm,"broadcastGps",t)},expression:"validateForm.broadcastGps"}})],1),a("el-form-item",{attrs:{label:"坐标半径",prop:"scenicSpotRange"}},[a("el-input",{attrs:{placeholder:"坐标半径"},model:{value:e.validateForm.scenicSpotRange,callback:function(t){e.$set(e.validateForm,"scenicSpotRange",t)},expression:"validateForm.scenicSpotRange"}})],1),a("el-form-item",{attrs:{label:"播报优先级",prop:"broadcastPriority"}},[a("el-input",{attrs:{placeholder:"播报优先级"},model:{value:e.validateForm.broadcastPriority,callback:function(t){e.$set(e.validateForm,"broadcastPriority",t)},expression:"validateForm.broadcastPriority"}})],1),a("el-form-item",{attrs:{label:"寻宝开关",prop:"switchs"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择宝箱类型"},model:{value:e.validateForm.switchs,callback:function(t){e.$set(e.validateForm,"switchs",t)},expression:"validateForm.switchs"}},e._l(e.switchsList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"宝箱类型",prop:"treasureType"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"请选择宝箱类型"},model:{value:e.validateForm.treasureType,callback:function(t){e.$set(e.validateForm,"treasureType",t)},expression:"validateForm.treasureType"}},e._l(e.treasureTypeList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"宝箱金币积分",prop:"integralNum"}},[a("el-input",{attrs:{placeholder:"请输入宝箱金币积分数",oninput:"value=value.replace(/[^\\d]/g,'')"},model:{value:e.validateForm.integralNum,callback:function(t){e.$set(e.validateForm,"integralNum",e._n(t))},expression:"validateForm.integralNum"}})],1)],1),a("div",{staticClass:"submit"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("validateForm")}}},[e._v("提交")]),a("el-button",{on:{click:e.cancelClick}},[e._v("取消")])],1)],1),a("el-dialog",{staticClass:"dialog",attrs:{width:"80%",title:"资源详情",visible:e.dialogVisible,"before-close":e.handleClose,"close-on-click-modal":!1},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"header",attrs:{flex:"","justify-center":"","mb-3":""}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.onAddPrize}},[e._v("新增")])],1),a("el-table",{staticStyle:{width:"100%",height:"600px","overflow-y":"scroll"},attrs:{data:e.broadcastData,border:""}},[a("el-table-column",{attrs:{label:"景点名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.broadcastName)+" ")]}}])}),a("el-table-column",{attrs:{label:"寻宝播报内容"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.broadcastContent)+" ")]}}])}),a("el-table-column",{attrs:{label:"媒体资源地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.mediaResourceUrl)+" ")]}}])}),a("el-table-column",{attrs:{label:"图片地址"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.pictureUrl)+" ")]}}])}),a("el-table-column",{attrs:{label:"资源类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(e.computedMediaType(t.row.mediaType))+" ")]}}])}),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.createDate)+" ")]}}])}),a("el-table-column",{attrs:{label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return e.handleEditPrize(t.$index,t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return e.handleDeletePrize(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("div",{attrs:{flex:"","justify-center":""}},[a("el-pagination",{attrs:{layout:"sizes, prev, pager, next",total:e.PrizeTotalPage,"page-sizes":[10,20,30,40,50]},on:{"size-change":e.onSizeChange,"current-change":e.onCurrentChange},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1),a("el-dialog",{attrs:{width:"25%",title:e.drawerTitlePrize+"资源详情",visible:e.drawerPrize,"append-to-body":""},on:{"update:visible":function(t){e.drawerPrize=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("div",{staticStyle:{flex:"auto"}},[a("el-button",{on:{click:e.cancelClickPrize}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormPrize("validateFormPrize")}}},[e._v("确认")])],1)]},proxy:!0}])},[a("el-radio-group",{attrs:{"mr-3":""},on:{change:e.changeDetail},model:{value:e.radioDetail,callback:function(t){e.radioDetail=t},expression:"radioDetail"}},[a("el-radio",{attrs:{label:1}},[e._v("文字")]),a("el-radio",{attrs:{label:2}},[e._v("视频")]),a("el-radio",{attrs:{label:3}},[e._v("音频")])],1),a("el-form",{ref:"ruleFormRef",staticClass:"demo-ruleForm",attrs:{model:e.validateFormPrize,"label-width":"120px",size:e.formSize,"status-icon":""}},[1==e.radioDetail?a("el-form-item",{attrs:{label:"播报内容",prop:"broadcastContent"}},[a("el-input",{model:{value:e.validateFormPrize.broadcastContent,callback:function(t){e.$set(e.validateFormPrize,"broadcastContent",t)},expression:"validateFormPrize.broadcastContent"}})],1):e._e(),1==e.radioDetail?a("el-form-item",{attrs:{label:"上传图片",prop:"picurl"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.fileList,action:"https://jsonplaceholder.typicode.com/posts/","before-upload":e.beforeUpload,limit:1,"list-type":"picture"}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传图片")])],1)],1):e._e(),2==e.radioDetail?a("el-form-item",{attrs:{label:"上传视频",prop:"picurl"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.fileList,action:"https://jsonplaceholder.typicode.com/posts/","before-upload":e.beforeUpload,limit:1,"list-type":"picture-card"}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传视频")])],1)],1):e._e(),3==e.radioDetail?a("el-form-item",{attrs:{label:"上传音频",prop:"picurl"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.fileListAudio,action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.handleChangeAudios,"before-upload":e.beforeUpload,"auto-upload":!1,limit:1,accept:"audio/*"}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传音频")])],1)],1):e._e(),3==e.radioDetail?a("el-form-item",{attrs:{label:"上传图片",prop:"picurl"}},[a("el-upload",{staticClass:"upload-demo",attrs:{"file-list":e.fileList,action:"https://jsonplaceholder.typicode.com/posts/","before-upload":e.beforeUpload,limit:1,"list-type":"picture"}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传图片")])],1)],1):e._e()],1)],1)],1),a("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.EditSpotloading,expression:"EditSpotloading"}],attrs:{visible:e.dialogEditSpot,title:"批量修改寻宝开关",width:"30%","before-close":e.handleCloseEditSpot,"lock-scroll":!0,"align-center":!1},on:{"update:visible":function(t){e.dialogEditSpot=t}},scopedSlots:e._u([{key:"footer",fn:function(){return[a("span",{staticClass:"dialog-footer"},[a("el-button",{on:{click:function(t){return e.CancelEditSpot()}}},[e._v("取消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.ConfirmEditSpot()}}},[e._v(" 确认 ")])],1)]},proxy:!0}])},[a("div",{staticStyle:{height:"500px","overflow-y":"scroll"}},e._l(e.spotList1,(function(t,r){return a("div",{key:t.scenicSpotId},[a("el-checkbox",{attrs:{label:t.scenicSpotName,size:"large"},on:{change:function(a){return e.handleCheckAllChange(a,t)}},model:{value:t.huntSwitch,callback:function(a){e.$set(t,"huntSwitch",a)},expression:"item.huntSwitch"}})],1)})),0)])],1)],1)},l=[],d=a("2909"),u=a("5530"),p=a("1da1"),m=a("ade3");a("96cf"),a("a9e3"),a("159b"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("99af"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("d81d"),a("21a6"),a("1146"),a("4d90"),a("1276");function f(e){var t=new Date(e),a=t.getFullYear().toString(),r=(t.getMonth()+1).toString().padStart(2,"0"),n=t.getDate().toString().padStart(2,"0"),i=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),o=t.getSeconds().toString().padStart(2,"0"),c="".concat(a,"-").concat(r,"-").concat(n," ").concat(i,":").concat(s,":").concat(o);return c}var h={name:"broadcastHunt",data:function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,a,r){if(!a)return r(new Error(e+"不能为空"));r()}}return e={searchCompanyOptions:[],searchScenicOptions:[],receivingOptions:[],searchInStockTypeOptions:[{value:"1",label:"采购"},{value:"2",label:"回收"}],dateStateOptions:[{value:"1",label:"按月查询"},{value:"2",label:"按日查询"},{value:"3",label:"按年查询"}],searchSpotNameOptions:[],searchGoodsNameOptions:[],spotIdOptions:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},exportTableData:[],downloadLoading:!1,importLoading:!1,currentPage:1,pageSize:10,selectDateState:"1",dateType:"daterange",valueFormat:"yyyy-MM-dd",searchValidateForm:{},editValidateForm:{},previewValidateForm:{previewOrderNumber:""},searchPartnerCompanyName:"",searchScenicName:"",searchSelectDateState:"1",searchStartEndDate:"",searchPayState:"",companys:[],companyState:"",scenics:[],scenicState:"",oddNumberList:[],downloadUrl:"",total:0,operateStatus:0,dialogVisible:!1,dialogState:"",currentRowOrderNumber:"",searchValidateFormRules:{},previewValidateFormRules:{previewOrderNumber:[{validator:t("单号"),required:!0,trigger:["blur","change"]}]},validateFormRules:{},editValidateFormRules:{},showTable:!0,tableFields:{"景区名称":"scenicSpotName","寻宝名称":"broadcastName","百度坐标":"broadcastGpsBaiDu","WGS84坐标":"broadcastGps","坐标半径":"scenicSpotRange","寻宝开关":"switchs","宝箱类型":"treasureType","宝箱金币积分":"integralNum","创建时间":"createDate"},tableData:[],tableLoading:!1,spotList:[],treasureTypeList:[{value:"1",label:"玲龙宝箱"},{value:"2",label:"锦龙宝箱"},{value:"3",label:"祥龙宝箱"}],sortTypeList:[{value:"0",label:"景点类型"},{value:"1",label:"停靠点类型"}],navigationTypeList:[{value:"2",label:"导航类型"}],introductionTypesList:[{value:"1",label:"景点介绍类型"}],switchsList:[{value:"0",label:"关闭"},{value:"1",label:"开启"}],broadcastId:""},Object(m["a"])(e,"dialogVisible",!1),Object(m["a"])(e,"PrizecurrentPage",1),Object(m["a"])(e,"PrizePageSize",10),Object(m["a"])(e,"drawer",!1),Object(m["a"])(e,"direction","rtl"),Object(m["a"])(e,"drawerTitle",""),Object(m["a"])(e,"formSize",""),Object(m["a"])(e,"validateForm",{}),Object(m["a"])(e,"drawerPrize",!1),Object(m["a"])(e,"drawerTitlePrize",""),Object(m["a"])(e,"validateFormPrize",{}),Object(m["a"])(e,"searchValidateFormPrize",{}),Object(m["a"])(e,"searchValidateFormRulesPrize",{}),Object(m["a"])(e,"PrizeTotalPage",0),Object(m["a"])(e,"fileList",[]),Object(m["a"])(e,"file",{}),Object(m["a"])(e,"imgBaseUrl","https://jxzy-robot.oss-cn-beijing.aliyuncs.com/"),Object(m["a"])(e,"switchsTATR",!1),Object(m["a"])(e,"dialogEditSpot",!1),Object(m["a"])(e,"spotList1",[]),Object(m["a"])(e,"prizeSizeList",[]),Object(m["a"])(e,"broadcastData",[]),Object(m["a"])(e,"radioDetail",1),Object(m["a"])(e,"fileAudios",null),Object(m["a"])(e,"broadcastResId",""),Object(m["a"])(e,"checkedData",[]),Object(m["a"])(e,"EditSpotloading",!1),e},created:function(){this.getSearchValidateForm(),this.getSearchValidateFormPrize(),this.getValidateForm(),this.getSpotList(),this.initTableData()},beforeMount:function(){},mounted:function(){},methods:{changeDetail:function(e){console.log(e)},getSpotList1:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/system/broadcastHunt/getScenicSpots");case 2:a=t.sent,r=a.data,200==r.state&&(r.data.forEach((function(e){e.huntSwitch=0!=e.huntSwitch})),e.spotList1=r.data);case 5:case"end":return t.stop()}}),t)})))()},handleCheckAllChange:function(e,t){console.log(e,t)},CancelEditSpot:function(){this.dialogEditSpot=!1},ConfirmEditSpot:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],r=[],e.EditSpotloading=!0,e.spotList1.forEach((function(e){a.push(e.scenicSpotId),r.push(0==e.huntSwitch?0:1)})),n=new FormData,n.append("scenicSpotIds",a+""),n.append("switchs",r+""),t.next=9,e.$http.post("/system/broadcastHunt/updateScenicSpots",n);case 9:i=t.sent,s=i.data,"200"==s.state?(e.EditSpotloading=!1,e.$message({type:"success",message:s.msg,offset:100,center:!0,duration:1e3}),e.dialogEditSpot=!1,e.initTableData()):e.$message({type:"error",message:s.msg,offset:100,center:!0,duration:3e3});case 12:case"end":return t.stop()}}),t)})))()},editSpot:function(){this.dialogEditSpot=!this.dialogEditSpot,this.getSpotList1()},handleCloseEditSpot:function(e){e()},changeCwitch:function(e){this.getchangeCwitch(e)},getchangeCwitch:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=new FormData,r.append("switchs",1==e?1:0),a.next=4,t.$http.post("/system/scenicSpot/updateScenicSpotSwitchs",r);case 4:n=a.sent,i=n.data,"200"==i.state?(t.$message({type:"success",message:i.msg,offset:100,center:!0,duration:1e3}),t.initTableData()):t.$message({type:"error",message:i.msg,offset:100,center:!0,duration:3e3});case 7:case"end":return a.stop()}}),a)})))()},beforeUpload:function(e,t){this.file=e,this.$message({message:"上传成功",type:"success"})},handleChangeAudios:function(e){this.fileAudios=e.raw,this.$message({message:"上传成功",type:"success"})},deleteRow:function(e,t){var a=this;this.$confirm("此操作将删除该行数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function e(){var r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("broadcastId",t.broadcastId),r.append("scenicSpotId",t.scenicSpotId),e.next=5,a.$http.post("/system/treasureHuntNew/delBroadcastHuntNew",r);case 5:n=e.sent,i=n.data,"200"==i.state?(a.$message({type:"success",message:i.msg,offset:100,center:!0,duration:1e3}),a.initTableData()):a.$message({type:"error",message:i.msg,offset:100,center:!0,duration:3e3});case 8:case"end":return e.stop()}}),e)})))).catch((function(){a.$message({type:"info",message:"已取消删除",offset:100,center:!0,duration:1e3})}))},cancelClick:function(){this.drawer=!1,this.validateForm={}},cancelClickPrize:function(){this.drawerPrize=!1,this.validateFormPrize={}},getSpotList:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/broadcastHunt/getSpotId");case 2:a=t.sent,r=a.data,200==r.state&&(e.spotList=r.data),console.log(r);case 6:case"end":return t.stop()}}),t)})))()},getSearchValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]="";this.searchValidateForm=Object(u["a"])(Object(u["a"])({},e),{},{goodId:null,spotId:null,inStockReason:""})},getSearchValidateFormPrize:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]="";this.searchValidateFormPrize={}},getValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]="";this.validateForm=e},login:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/loginSystem?username=houjingchen&password=houjingchen");case 2:a=t.sent,a.data;case 4:case"end":return t.stop()}}),t)})))()},initTableData:function(){var e=arguments,t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.length>0&&void 0!==e[0]&&e[0],t.tableLoading=!0,a.next=4,t.$http.get("/system/treasureHuntNew/getTreasureHuntListNew",{params:Object(u["a"])(Object(u["a"])({},t.searchValidateForm),{},{pageNum:t.currentPage,pageSize:t.pageSize})});case 4:r=a.sent,n=r.data,console.log(n.data),"200"==n.state&&(t.tableData=n.data.list,t.total=n.data.total,t.switchsTATR=1==n.type,t.tableLoading=!1);case 8:case"end":return a.stop()}}),a)})))()},handlePrize:function(e,t){console.log(e,t),this.broadcastId=t.broadcastId,this.dialogVisible=!this.dialogVisible,this.getPrizeList(this.broadcastId)},getPrizeList:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.get("/system/treasureHuntNew/getBroadcastContentHuntListNew",{params:{broadcastId:e,pageNum:t.PrizecurrentPage,pageSize:t.PrizePageSize}});case 2:r=a.sent,n=r.data,console.log(n),t.PrizeTotalPage=n.total,t.broadcastData=n.list;case 7:case"end":return a.stop()}}),a)})))()},updateStatus:function(e,t){var a=this;return Object(p["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a.$http.post("/system/inventory_detail/updateStatus",a.$qs.stringify({id:e,status:t}));case 2:n=r.sent,n.data,a.initTableData(!0);case 5:case"end":return r.stop()}}),r)})))()},getByOrderNumber:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.previewValidateForm.previewOrderNumber||(e.previewValidateForm.previewOrderNumber=null),t.next=3,e.$http.get("/system/inventory_detail/getByOrderNumber",{params:{orderNumber:e.previewValidateForm.previewOrderNumber,type:1}});case 3:return a=t.sent,r=a.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},getExportTableData:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.searchStartEndDate&&e.searchStartEndDate[0]||null,e.searchStartEndDate&&e.searchStartEndDate[1]||null,t.next=4,e.$http.get("/system/treasureHuntNew/uploadExcelBroadcastHuntNew",{responseType:"arraybuffer"});case 4:a=t.sent,r=a.data,r?(n=window.URL.createObjectURL(new Blob([r],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),i=document.createElement("a"),console.log(n),i.href=n,i.download="宝箱信息",i.click(),e.$message({message:"导出成功",type:"success"})):e.$message({message:"导出失败",type:"error"});case 7:case"end":return t.stop()}}),t)})))()},importE:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.importLoading=!0,r=new FormData,r.append("file",e),a.next=5,t.$http.post("/system/treasureHuntNew/importExcelNew",r);case 5:n=a.sent,i=n.data,t.importLoading=!1,"200"==i.state?(t.$message({message:"导入成功！",type:"success"}),t.initTableData()):t.$message({message:i.msg,type:"error"});case 9:case"end":return a.stop()}}),a)})))()},confirmRow:function(e,t){var a=this;this.$confirm("确认已入库?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.updateStatus(t.id,1),a.$message({type:"success",message:"确认成功!"})})).catch((function(){a.$message({type:"info",message:"已取消确认操作"})}))},revokeRow:function(e,t){var a=this;this.$confirm("您确定要撤销吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.updateStatus(t.id,2),a.$message({type:"success",message:"撤销成功!"})})).catch((function(){a.$message({type:"info",message:"已取消撤销操作"})}))},onChangeApplicant:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.applicanteOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.applicantName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeFactory:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.factoryOptions.forEach((function(t){t.spotId==e&&(r=t.spotName)})),t.validateForm.factoryName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeConsignor:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.consignorOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.consignorName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeReceiving:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",n="",t.receivingOptions.forEach((function(t){t.spotId==e&&(r=t.spotName,n=t.address)})),t.validateForm.receivingName=r,t.validateForm.receiningAddress=n;case 5:case"end":return a.stop()}}),a)})))()},onChangeConsignee:function(e){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.consigneeOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.consigneeName=r;case 3:case"end":return a.stop()}}),a)})))()},onDateChange:function(){console.log(this.selectDateState),"1"==this.selectDateState?(this.dateType="monthrange",this.valueFormat="yyyy-MM"):"2"==this.selectDateState?(this.dateType="daterange",this.valueFormat="yyyy-MM-dd"):"3"==this.selectDateState&&(this.dateType="yearrange",this.valueFormat="yyyy")},onReset:function(){this.getSearchValidateForm(),this.searchStartEndDate=[],this.selectDateState="1",this.dateType="monthrange",this.initTableData()},onResetPrize:function(){this.getSearchValidateFormPrize(),this.getPrizeList(this.jackpotId)},onSearch:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.showTable=!0,t.initTableData()}))},onSearchPrize:function(e){this.showTable=!0,this.getPrizeList(this.jackpotId)},exportExcel:function(){var e=this;this.$confirm("确认导出Excel表格?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.downloadLoading=!0,t.next=3,e.getExportTableData();case 3:e.downloadLoading=!1;case 4:case"end":return t.stop()}}),t)})))).catch((function(){e.$message({type:"info",message:"已取消导出Excel表格"})}))},onAdd:function(){this.drawer=!0,this.drawerTitle="添加",this.validateForm={}},onAddPrize:function(){this.drawerPrize=!0,this.drawerTitlePrize="添加",this.validateFormPrize={}},onPreview:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(a){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!a){e.next=8;break}return e.next=3,t.getByOrderNumber();case 3:r=e.sent,n=r.data,n&&n.length>0?(t.dialogVisible=!0,t.dialogState="preview"):t.$message({message:"请输入有效单号",type:"warning"}),e.next=10;break;case 8:return console.log("error submit!!"),e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},editRow:function(e,t){this.drawer=!0,this.drawerTitle="编辑";var a=Object.assign({},t);this.validateForm=a},handleEditPrize:function(e,t){this.broadcastResId=t.broadcastResId,this.broadcastId=t.broadcastId,this.drawerPrize=!0,this.drawerTitlePrize="编辑";var a=Object.assign({},t);this.validateFormPrize=a},handleDeletePrize:function(e,t){var a=this;this.$confirm("此操作将删除该行数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(p["a"])(regeneratorRuntime.mark((function e(){var r,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=new FormData,r.append("broadcastResId",t.broadcastResId),r.append("broadcastId",t.broadcastId),e.next=5,a.$http.post("/system/treasureHuntNew/delBroadcastHuntContentExtendNew",r);case 5:n=e.sent,i=n.data,"200"==i.state?(a.$message({type:"success",message:i.msg,offset:100,center:!0,duration:1e3}),a.getPrizeList(a.jackpotId)):a.$message({type:"error",message:i.msg,offset:100,center:!0,duration:3e3});case 8:case"end":return e.stop()}}),e)})))).catch((function(){a.$message({type:"info",message:"已取消删除",offset:100,center:!0,duration:1e3})}))},detailRow:function(e,t){this.detailDialogVisible=!0,this.dialogState="detail",this.detailTableDate(t.id)},dialogClose:function(){this.dialogVisible=!1,this.$refs.validateForm.resetFields(),this.getValidateForm()},editDialogClose:function(){this.editDialogVisible=!1,this.$refs.editValidateForm.resetFields(),this.editValidateForm={}},detailDialogClose:function(){this.detailDialogVisible=!1},handleClose:function(e){e(),this.ValidateForm={}},handleClosePrize:function(e){e(),this.validateFormPrize={}},editHandleClose:function(e){e(),this.editValidateForm={}},detailHandleClose:function(e){e()},submitForm:function(e){"添加"==this.drawerTitle?(this.addTableData(),this.drawer=!1):"编辑"==this.drawerTitle&&(this.editTableData(),this.drawer=!1),this.validateForm={}},submitFormPrize:function(){"添加"==this.drawerTitlePrize?1==this.radioDetail?this.addDetailImg():2==this.radioDetail?this.addDetailVideo():3==this.radioDetail&&this.addDetailAudio():"编辑"==this.drawerTitlePrize&&(1==this.radioDetail?this.editDetailImg():2==this.radioDetail?this.editDetailVideo():3==this.radioDetail&&this.editDetailAudio()),this.drawerPrize=!1,this.validateFormPrize={}},editDetailImg:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e.file),a.append("broadcastContent",e.validateFormPrize.broadcastContent),a.append("broadcastId",e.broadcastId),a.append("broadcastResId",e.broadcastResId),t.next=7,e.$http.post("/system/treasureHuntNew/editBroadcastHuntContentExtendImageNew",a);case 7:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.broadcastId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 10:case"end":return t.stop()}}),t)})))()},editDetailVideo:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e.file),a.append("broadcastId",e.broadcastId),a.append("broadcastResId",e.broadcastResId),t.next=6,e.$http.post("/system/treasureHuntNew/editBroadcastHuntContentExtendVideoNew",a);case 6:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.broadcastId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 9:case"end":return t.stop()}}),t)})))()},editDetailAudio:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("fileAudio",e.fileAudios),a.append("fileImage",e.file),a.append("broadcastId",e.broadcastId),a.append("broadcastResId",e.broadcastResId),t.next=7,e.$http.post("/system/treasureHuntNew/editBroadcastHuntContentExtendAudioNew",a);case 7:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.broadcastId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 10:case"end":return t.stop()}}),t)})))()},addDetailImg:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log("我走了这里"),a=new FormData,a.append("file",e.file),a.append("broadcastContent",e.validateFormPrize.broadcastContent),a.append("broadcastId",e.broadcastId),t.next=7,e.$http.post("/system/treasureHuntNew/addBroadcastHuntContentExtendImageNew",a);case 7:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.broadcastId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 10:case"end":return t.stop()}}),t)})))()},addDetailVideo:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e.file),a.append("broadcastId",e.broadcastId),t.next=5,e.$http.post("/system/treasureHuntNew/addBroadcastHuntContentExtendVideoNew",a);case 5:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.broadcastId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 8:case"end":return t.stop()}}),t)})))()},addDetailAudio:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("fileAudio",e.fileAudios),a.append("fileImage",e.file),a.append("broadcastId",e.broadcastId),t.next=6,e.$http.post("/system/treasureHuntNew/addBroadcastHuntContentExtendAudioNew",a);case 6:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.broadcastId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 9:case"end":return t.stop()}}),t)})))()},addTableDataPrize:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e.file),a.append("treasureName",e.validateFormPrize.treasureName),a.append("treasureType",e.validateFormPrize.treasureType),a.append("couponAmount",e.validateFormPrize.couponAmount),a.append("inventory",e.validateFormPrize.inventory),a.append("startValidity",f(e.validateFormPrize.startValidity)),a.append("endValidity",f(e.validateFormPrize.endValidity)),a.append("prizeSize",e.validateFormPrize.prizeSize),a.append("probability1",e.validateFormPrize.probability1),a.append("jackpotId",e.jackpotId),t.next=13,e.$http.post("/system/broadcastHunt/addTreasureNewHunt",a);case 13:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.jackpotId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 16:case"end":return t.stop()}}),t)})))()},editTableDataPrize:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("file",e.file),a.append("treasureName",e.validateFormPrize.treasureName),a.append("treasureType",e.validateFormPrize.treasureType),a.append("couponAmount",e.validateFormPrize.couponAmount),a.append("inventory",e.validateFormPrize.inventory),a.append("startValidity",f(e.validateFormPrize.startValidity)),a.append("endValidity",f(e.validateFormPrize.endValidity)),a.append("prizeSize",e.validateFormPrize.prizeSize),a.append("probability1",e.validateFormPrize.probability1),a.append("treasureId",e.validateFormPrize.treasureId),a.append("jackpotId",e.jackpotId),t.next=14,e.$http.post("/system/broadcastHunt/editTreasureNewHunt",a);case 14:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.getPrizeList(e.jackpotId)):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 17:case"end":return t.stop()}}),t)})))()},addTableData:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/system/treasureHuntNew/addBroadcastHuntNew",Object(u["a"])({},e.validateForm));case 2:a=t.sent,r=a.data,"200"==r.state?(e.$message({message:r.msg,type:"success",offset:100,center:!0,duration:1e3}),e.initTableData()):e.$message({message:r.msg,type:"error",offset:100,center:!0,duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},editTableData:function(){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function t(){var a,r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=new FormData,a.append("scenicSpotId",e.validateForm.scenicSpotId),a.append("broadcastName",e.validateForm.broadcastName),a.append("broadcastGpsBaiDu",e.validateForm.broadcastGpsBaiDu),a.append("broadcastGps",e.validateForm.broadcastGps),a.append("scenicSpotRange",e.validateForm.scenicSpotRange),a.append("integralNum",e.validateForm.integralNum),a.append("broadcastPriority",e.validateForm.broadcastPriority),a.append("treasureType",e.validateForm.treasureType),a.append("broadcastId",e.validateForm.broadcastId),a.append("switchs",e.validateForm.switchs),t.next=13,e.$http.post("/system/treasureHuntNew/editBroadcastHuntNew",a);case 13:r=t.sent,n=r.data,"200"==n.state?(e.$message({message:n.msg,type:"success",offset:100,center:!0,duration:1e3}),e.initTableData()):e.$message({message:n.msg,type:"error",offset:100,center:!0,duration:3e3});case 16:case"end":return t.stop()}}),t)})))()},onSave:function(){this.dialogVisible=!1,this.initTableData()},onDownloadOrder:function(){},onCurrentChange:function(e){this.currentPage=e,this.initTableData(!0)},onSizeChange:function(e){this.pageSize=e,this.initTableData(!0)},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleRemove:function(e,t){this.fileTemp=null},importfxx:function(e){this.file=e;var t=!1,r=this.file,n=new FileReader;FileReader.prototype.readAsBinaryString=function(e){var t,r,n="",i=!1,s=new FileReader;s.onload=function(e){for(var o=new Uint8Array(s.result),c=o.byteLength,l=0;l<c;l++)n+=String.fromCharCode(o[l]);var u=a("1146");t=i?u.read(btoa(fixdata(n)),{type:"base64"}):u.read(n,{type:"binary"}),r=u.utils.sheet_to_json(t.Sheets[t.SheetNames[0]]),console.log(r),this.da=Object(d["a"])(r);var p=[];return this.da.map((function(e){var t={robotCount:e["机器人数量"],type:e["发货进度"],applicantName:e["申请人"],factoryName:e["发货工厂"],consignorName:e["发货人"],receivingName:e["收货景区"],consigneeName:e["收货人"],consigneePhone:e["收货人电话"],receiningAddress:e["收货地址"],consignmentDate:e["发货时间"]};p.push(t)})),this.tableData=p,p},s.readAsArrayBuffer(e)},t?n.readAsArrayBuffer(r):n.readAsBinaryString(r)},handleImportExceed:function(e){this.$refs.uploadImport.clearFiles(),this.$refs.uploadImport.submit(e)},handleImportChange:function(e,t){console.log(e),this.importE(e.raw)}},components:{},computed:{computedMediaType:function(){return function(e){var t="";return"1"==e?t="文字类型":"2"==e?t="视频类型":"3"==e&&(t="音频类型"),t}},tableContentValue:function(){return function(e,t){var a="";return"treasureType"==t?1==e[t]?a="玲龙宝箱":2==e[t]?a="锦龙宝箱":3==e[t]&&(a="祥龙宝箱"):"switchs"==t?0==e[t]?a="关闭":1==e[t]&&(a="开启"):"jackpotType"==t?1==e[t]?a="定点寻宝":2==e[t]&&(a="定时寻宝"):a=e[t]||"无",a}}}},g=h,b=(a("2a38"),a("2877")),v=Object(b["a"])(g,c,l,!1,null,"177b3fea",null),w=v.exports,y={name:"App",components:{broadcastHunt:w}},S=y,F=(a("5c0b"),Object(b["a"])(S,s,o,!1,null,null,null)),x=F.exports,z=a("2f62");i["default"].use(z["a"]);var k=new z["a"].Store({state:{},mutations:{},actions:{},modules:{}}),D=a("bc3a"),P=a.n(D),R=a("4328"),$=a.n(R),O=a("313e");i["default"].use(n.a),P.a.defaults.withCredentials=!0,i["default"].prototype.$http=P.a,i["default"].prototype.$qs=$.a,i["default"].config.productionTip=!1,i["default"].prototype.$echarts=O,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t){var r=t[a];new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r:("00"+r).substr((""+r).length)))}return e},new i["default"]({store:k,render:function(e){return e(x)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"656b":function(e,t,a){},"9c0c":function(e,t,a){}});
//# sourceMappingURL=app.e5a4c995.js.map