(function(e){function t(t){for(var r,o,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],r=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={app:0},i=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;i.push([1,"chunk-vendors"]),a()})({0:function(e,t){},"0778":function(e,t,a){},1:function(e,t,a){e.exports=a("56d7")},2:function(e,t){},3:function(e,t){},"56d7":function(e,t,a){"use strict";a.r(t);a("0fae");var r=a("9e2f"),n=a.n(r),i=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("ac1f"),a("5319"),a("4d63"),a("25f0"),a("2b0e")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("prize-pool")],1)},s=[],c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"partner-company"},[a("el-container",[a("el-header",{staticClass:"header"},[a("el-form",{ref:"searchValidateForm",staticClass:"search-validate-form",attrs:{inline:!0,model:e.searchValidateForm,"label-width":"100px",rules:e.searchValidateFormRules}},[a("el-form-item",{attrs:{label:"",prop:"scenicSpotName"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择景区",clearable:""},model:{value:e.searchValidateForm.scenicSpotId,callback:function(t){e.$set(e.searchValidateForm,"scenicSpotId",t)},expression:"searchValidateForm.scenicSpotId"}},e._l(e.spotList,(function(e,t){return a("el-option",{key:e.value,attrs:{label:e.scenicSpotName,value:e.scenicSpotId}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"userPhone"}},[a("el-input",{attrs:{placeholder:"请输入手机号"},model:{value:e.searchValidateForm.userPhone1,callback:function(t){e.$set(e.searchValidateForm,"userPhone1",t)},expression:"searchValidateForm.userPhone1"}})],1),a("el-form-item",{attrs:{label:"",prop:"treasureLogName"}},[a("el-input",{attrs:{placeholder:"请输入奖品名称"},model:{value:e.searchValidateForm.treasureLogName,callback:function(t){e.$set(e.searchValidateForm,"treasureLogName",t)},expression:"searchValidateForm.treasureLogName"}})],1),a("el-form-item",{attrs:{label:"",prop:"treasureLogType"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择奖品类型",clearable:""},model:{value:e.searchValidateForm.treasureLogType,callback:function(t){e.$set(e.searchValidateForm,"treasureLogType",t)},expression:"searchValidateForm.treasureLogType"}},e._l(e.treasureLogTypeList,(function(e,t){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"",prop:"prizeSize"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择奖品规格",clearable:""},model:{value:e.searchValidateForm.prizeSize,callback:function(t){e.$set(e.searchValidateForm,"prizeSize",t)},expression:"searchValidateForm.prizeSize"}},e._l(e.prizeSizeList,(function(e,t){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.onSearch("searchValidateForm")}}},[e._v("搜索")]),a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh-right"},on:{click:e.onReset}},[e._v("重置")])],1),a("el-main",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],staticClass:"table",staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"","header-cell-style":{background:"#f2f2f2",color:"#606266",height:"38px",padding:"0px"},"cell-style":{height:"38px",padding:"0"}}},e._l(e.tableFields,(function(t,r){return a("el-table-column",{key:r,attrs:{prop:t,label:r,"min-width":"130"},scopedSlots:e._u([{key:"default",fn:function(r){return[a("div",[e._v(" "+e._s(e.tableContentValue(r.row,t))+" ")])]}}],null,!0)})})),1),a("el-table",{staticClass:"table",staticStyle:{width:"100%",display:"none"},attrs:{id:"outTable",data:e.exportTableData,border:""}},e._l(e.tableFields,(function(e,t){return a("el-table-column",{key:t,attrs:{prop:e,label:t,"min-width":"130",align:"center"}})})),1)],1),a("el-footer",[a("div",{staticClass:"block"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next, total, sizes, jumper",total:e.total,"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize},on:{"current-change":e.onCurrentChange,"size-change":e.onSizeChange}})],1)])],1)],1)},l=[],u=a("5530"),d=a("1da1"),p=a("ade3");a("96cf"),a("a9e3"),a("159b"),a("21a6"),a("1146"),a("d3b7"),a("4d90"),a("1276"),a("99af");var h={name:"SettlementFlow",data:function(){var e;function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,a,r){if(!a)return r(new Error(e+"不能为空"));r()}}return e={searchCompanyOptions:[],searchScenicOptions:[],receivingOptions:[],searchInStockTypeOptions:[{value:"1",label:"采购"},{value:"2",label:"回收"}],dateStateOptions:[{value:"1",label:"按月查询"},{value:"2",label:"按日查询"},{value:"3",label:"按年查询"}],searchSpotNameOptions:[],searchGoodsNameOptions:[],spotIdOptions:[],pickerOptions:{disabledDate:function(e){return e.getTime()>Date.now()},shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"昨天",onClick:function(e){var t=new Date;t.setTime(t.getTime()-864e5),e.$emit("pick",t)}},{text:"一周前",onClick:function(e){var t=new Date;t.setTime(t.getTime()-6048e5),e.$emit("pick",t)}}]},exportTableData:[],downloadLoading:!1,importLoading:!1,currentPage:1,pageSize:10,selectDateState:"1",dateType:"daterange",valueFormat:"yyyy-MM-dd",searchValidateForm:{},editValidateForm:{},previewValidateForm:{previewOrderNumber:""},searchPartnerCompanyName:"",searchScenicName:"",searchSelectDateState:"1",searchStartEndDate:"",searchPayState:"",companys:[],companyState:"",scenics:[],scenicState:"",oddNumberList:[],downloadUrl:"",total:0,operateStatus:0,dialogVisible:!1,dialogState:"",currentRowOrderNumber:"",searchValidateFormRules:{},previewValidateFormRules:{previewOrderNumber:[{validator:t("单号"),required:!0,trigger:["blur","change"]}]},validateFormRules:{},editValidateFormRules:{},showTable:!0,tableFields:{"景区名称":"scenicSpotName","用户手机号":"userPhone1","奖品名称":"treasureLogName","奖品类型":"treasureLogType","消耗前积分额度":"frontIntegralNum","消耗后积分额度":"afterIntegralNum","当前消费积分":"useIntegralNum","奖品规格":"prizeSize","创建时间":"createDate","更新时间":"updateDate"},tableData:[],tableLoading:!1,spotList:[],treasureLogTypeList:[{value:"1",label:"代金卷"},{value:"2",label:"免单"},{value:"3",label:"实物"},{value:"4",label:"谢谢参与"}],prizeSizeList:[{value:"0",label:"普通奖品"},{value:"1",label:"大奖"}]},Object(p["a"])(e,"dialogVisible",!1),Object(p["a"])(e,"PrizecurrentPage",1),Object(p["a"])(e,"PrizePageSize",10),Object(p["a"])(e,"drawer",!1),Object(p["a"])(e,"direction","rtl"),Object(p["a"])(e,"drawerTitle",""),Object(p["a"])(e,"formSize",""),Object(p["a"])(e,"validateForm",{}),Object(p["a"])(e,"drawerPrize",!1),Object(p["a"])(e,"drawerTitlePrize",""),Object(p["a"])(e,"validateFormPrize",{}),Object(p["a"])(e,"searchValidateFormPrize",{}),Object(p["a"])(e,"searchValidateFormRulesPrize",{}),Object(p["a"])(e,"prizeData",[]),Object(p["a"])(e,"PrizeTotalPage",0),Object(p["a"])(e,"fileList",[]),Object(p["a"])(e,"file",{}),Object(p["a"])(e,"imgBaseUrl","https://jxzy-robot.oss-cn-beijing.aliyuncs.com/"),e},created:function(){this.getSearchValidateForm(),this.getSearchValidateFormPrize(),this.getValidateForm(),this.getSpotList(),this.initTableData()},beforeMount:function(){},mounted:function(){},methods:{deleteRow:function(e,t){var a=this;this.$confirm("此操作将删除该行数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(d["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a.$http.post("/system/broadcastHunt/delectJackpotNew",{jackpotId:t.jackpotId});case 2:r=e.sent,n=r.data,"200"==n.state?(a.$message({type:"success",message:n.msg,offset:100,center:!0,duration:1e3}),a.initTableData()):a.$message({type:"error",message:n.msg,offset:100,center:!0,duration:3e3});case 5:case"end":return e.stop()}}),e)})))).catch((function(){a.$message({type:"info",message:"已取消删除",offset:100,center:!0,duration:1e3})}))},cancelClick:function(){this.drawer=!1,this.validateForm={}},cancelClickPrize:function(){this.drawerPrize=!1,this.validateFormPrize={}},getSpotList:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/system/broadcastHunt/getSpotId");case 2:a=t.sent,r=a.data,200==r.state&&(e.spotList=r.data),console.log(r);case 6:case"end":return t.stop()}}),t)})))()},getSearchValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]="";this.searchValidateForm=Object(u["a"])(Object(u["a"])({},e),{},{goodId:null,spotId:null,inStockReason:""})},getSearchValidateFormPrize:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]="";this.searchValidateFormPrize={}},getValidateForm:function(){var e={};for(var t in this.tableFields)e[this.tableFields[t]]="";this.validateForm=e},login:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/loginSystem?username=houjingchen&password=houjingchen");case 2:a=t.sent,a.data;case 4:case"end":return t.stop()}}),t)})))()},initTableData:function(){var e=arguments,t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.length>0&&void 0!==e[0]&&e[0],t.tableLoading=!0,a.next=4,t.$http.post("/system/broadcastHunt/getUserIntegralHuntLog",Object(u["a"])(Object(u["a"])({},t.searchValidateForm),{},{pageNum:t.currentPage,pageSize:t.pageSize}));case 4:r=a.sent,n=r.data,console.log(n.data),"200"==n.state&&(t.tableData=n.data.list,t.total=n.data.total,t.tableLoading=!1);case 8:case"end":return a.stop()}}),a)})))()},handlePrize:function(e,t){this.jackpotId=t.jackpotId,this.dialogVisible=!this.dialogVisible,this.getPrizeList(this.jackpotId)},getPrizeList:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$http.post("/system/broadcastHunt/getTreasureNewHunt",Object(u["a"])(Object(u["a"])({},t.searchValidateFormPrize),{},{jackpotId:e,pageNum:t.PrizecurrentPage,pageSize:t.PrizePageSize}));case 2:r=a.sent,n=r.data,console.log(n),t.PrizeTotalPage=n.data.total,t.prizeData=n.data.list;case 7:case"end":return a.stop()}}),a)})))()},updateStatus:function(e,t){var a=this;return Object(d["a"])(regeneratorRuntime.mark((function r(){var n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,a.$http.post("/system/inventory_detail/updateStatus",a.$qs.stringify({id:e,status:t}));case 2:n=r.sent,n.data,a.initTableData(!0);case 5:case"end":return r.stop()}}),r)})))()},getByOrderNumber:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.previewValidateForm.previewOrderNumber||(e.previewValidateForm.previewOrderNumber=null),t.next=3,e.$http.get("/system/inventory_detail/getByOrderNumber",{params:{orderNumber:e.previewValidateForm.previewOrderNumber,type:1}});case 3:return a=t.sent,r=a.data,t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},confirmRow:function(e,t){var a=this;this.$confirm("确认已入库?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.updateStatus(t.id,1),a.$message({type:"success",message:"确认成功!"})})).catch((function(){a.$message({type:"info",message:"已取消确认操作"})}))},revokeRow:function(e,t){var a=this;this.$confirm("您确定要撤销吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.updateStatus(t.id,2),a.$message({type:"success",message:"撤销成功!"})})).catch((function(){a.$message({type:"info",message:"已取消撤销操作"})}))},onChangeApplicant:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.applicanteOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.applicantName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeFactory:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.factoryOptions.forEach((function(t){t.spotId==e&&(r=t.spotName)})),t.validateForm.factoryName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeConsignor:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.consignorOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.consignorName=r;case 3:case"end":return a.stop()}}),a)})))()},onChangeReceiving:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",n="",t.receivingOptions.forEach((function(t){t.spotId==e&&(r=t.spotName,n=t.address)})),t.validateForm.receivingName=r,t.validateForm.receiningAddress=n;case 5:case"end":return a.stop()}}),a)})))()},onChangeConsignee:function(e){var t=this;return Object(d["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:r="",t.consigneeOptions.forEach((function(t){t.userId==e&&(r=t.userName)})),t.validateForm.consigneeName=r;case 3:case"end":return a.stop()}}),a)})))()},onDateChange:function(){console.log(this.selectDateState),"1"==this.selectDateState?(this.dateType="monthrange",this.valueFormat="yyyy-MM"):"2"==this.selectDateState?(this.dateType="daterange",this.valueFormat="yyyy-MM-dd"):"3"==this.selectDateState&&(this.dateType="yearrange",this.valueFormat="yyyy")},onReset:function(){this.getSearchValidateForm(),this.searchStartEndDate=[],this.selectDateState="1",this.dateType="monthrange",this.initTableData()},onResetPrize:function(){this.getSearchValidateFormPrize(),this.getPrizeList(this.jackpotId)},onSearch:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;t.showTable=!0,t.initTableData()}))},onSearchPrize:function(e){this.showTable=!0,this.getPrizeList(this.jackpotId)},onAdd:function(){this.drawer=!0,this.drawerTitle="添加",this.validateForm={}},editRow:function(e,t){this.drawer=!0,this.drawerTitle="编辑";var a=Object.assign({},t);this.validateForm=a},detailRow:function(e,t){this.detailDialogVisible=!0,this.dialogState="detail",this.detailTableDate(t.id)},dialogClose:function(){this.dialogVisible=!1,this.$refs.validateForm.resetFields(),this.getValidateForm()},editDialogClose:function(){this.editDialogVisible=!1,this.$refs.editValidateForm.resetFields(),this.editValidateForm={}},detailDialogClose:function(){this.detailDialogVisible=!1},handleClose:function(e){e(),this.ValidateForm={}},handleClosePrize:function(e){e(),this.validateFormPrize={}},detailHandleClose:function(e){e()},submitForm:function(e){"添加"==this.drawerTitle?(this.addTableData(),this.drawer=!1):"编辑"==this.drawerTitle&&(this.editTableData(),this.drawer=!1),this.validateForm={}},addTableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/system/broadcastHunt/addJackpotNew",e.validateForm);case 2:a=t.sent,r=a.data,"200"==r.state?(e.$message({message:r.msg,type:"success",offset:100,center:!0,duration:1e3}),e.initTableData()):e.$message({message:r.msg,type:"error",offset:100,center:!0,duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},editTableData:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.post("/system/broadcastHunt/updateJackpotNew",e.validateForm);case 2:a=t.sent,r=a.data,"200"==r.state?(e.$message({message:r.msg,type:"success",offset:100,center:!0,duration:1e3}),e.initTableData()):e.$message({message:r.msg,type:"error",offset:100,center:!0,duration:3e3});case 5:case"end":return t.stop()}}),t)})))()},onCurrentChange:function(e){this.currentPage=e,this.initTableData(!0)},onSizeChange:function(e){this.pageSize=e,this.initTableData(!0)}},components:{},computed:{tableContentValue:function(){return function(e,t){var a="";return"treasureLogType"==t?a=1==e[t]?"代金卷":2==e[t]?"免单":3==e[t]?"实物":"谢谢参与":"prizeSize"==t?0==e[t]?a="普通奖品":1==e[t]&&(a="大奖"):a=e[t]||"无",a}}}},m=h,f=(a("b885"),a("2877")),g=Object(f["a"])(m,c,l,!1,null,"6f188674",null),b=g.exports,v={name:"App",components:{prizePool:b}},w=v,y=(a("5c0b"),Object(f["a"])(w,o,s,!1,null,null,null)),F=y.exports,S=a("2f62");i["default"].use(S["a"]);var O=new S["a"].Store({state:{},mutations:{},actions:{},modules:{}}),z=a("bc3a"),j=a.n(z),x=a("4328"),T=a.n(x),k=a("313e");i["default"].use(n.a),j.a.defaults.withCredentials=!0,i["default"].prototype.$http=j.a,i["default"].prototype.$qs=T.a,i["default"].config.productionTip=!1,i["default"].prototype.$echarts=k,Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t){var r=t[a];new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?r:("00"+r).substr((""+r).length)))}return e},new i["default"]({store:O,render:function(e){return e(F)}}).$mount("#app")},"5c0b":function(e,t,a){"use strict";a("9c0c")},"9c0c":function(e,t,a){},b885:function(e,t,a){"use strict";a("0778")}});
//# sourceMappingURL=app.0c3cfdac.js.map