<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.hna.hka.archive.management.assetsSystem.dao.CommonFaultMapper">

    <select id="list" resultType="com.hna.hka.archive.management.assetsSystem.model.CommonFault">
        select * from SYS_ROBOT_COMMON_FAULT
        <where>
            <if test='title != null and title != ""'>
                title like concat('%' , #{title} , '%')
            </if>
            <if test='applicableModel != null and applicableModel != ""'>
                and APPLICABLE_MODEL like concat('%' , #{applicableModel} , '%')
            </if>
        </where>
        order by CREATE_TIME desc
    </select>
    <insert id="add" parameterType="com.hna.hka.archive.management.assetsSystem.model.CommonFault">
        insert into SYS_ROBOT_COMMON_FAULT(ID, TITLE, PHENOMENON, RESOLVENT, VIDEO, APPLICABLE_MODEL, CREATE_TIME,
                                           NOTES)
        VALUES (#{id}, #{title}, #{phenomenon}, #{resolvent}, #{video}, #{applicableModel}, #{createTime}, #{notes})
    </insert>

    <update id="edit" parameterType="com.hna.hka.archive.management.assetsSystem.model.CommonFault">
        update SYS_ROBOT_COMMON_FAULT
        set TITLE            = #{title},
            PHENOMENON       = #{phenomenon},
            RESOLVENT        = #{resolvent},
            VIDEO            = #{video},
            APPLICABLE_MODEL = #{applicableModel},
            NOTES            = #{notes}
        where ID = #{id}
    </update>

    <delete id="delete">
        delete from SYS_ROBOT_COMMON_FAULT where ID = #{id}
    </delete>

    <select id="findByKey" resultType="com.hna.hka.archive.management.assetsSystem.model.CommonFault">
        select * from SYS_ROBOT_COMMON_FAULT where ID = #{id}
    </select>

    <select id="commonFaultList" resultType="com.hna.hka.archive.management.assetsSystem.model.CommonFault">
        select ID,TITLE
        from SYS_ROBOT_COMMON_FAULT
    </select>
</mapper>